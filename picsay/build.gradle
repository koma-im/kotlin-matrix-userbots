/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'com.github.johnrengelman.shadow' version '4.0.4'
    id 'java'
    id 'maven'
    id 'application'
    id "org.jetbrains.kotlin.jvm" version "1.3.21"
    id "org.jetbrains.kotlin.kapt" version "1.3.21"
}

repositories {
    mavenLocal()
    mavenCentral()
    maven {
        url = 'https://dl.bintray.com/kittinunf/maven'
    }

    maven {
        url = 'https://jitpack.io'
    }

    maven {
        url = 'https://repo.maven.apache.org/maven2'
    }
}

ext.moduleName = "link.continuum.picsay"

compileJava {
    inputs.property('moduleName', moduleName)
    doFirst {
        options.compilerArgs = [
                '--module-path', classpath.asPath
        ]
        classpath = files()
    }
}

dependencies {
    compile 'org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.3.21'
    compile 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.1.1'
    compileOnly 'org.jetbrains.kotlin:kotlin-reflect:1.3.21'
    compile 'com.github.kittinunf.result:result:2.1.0'
    compile 'io.github.microutils:kotlin-logging:1.6.22'
    compile 'org.slf4j:slf4j-api:1.8.0-beta2'
    compile 'org.slf4j:slf4j-simple:1.8.0-beta2'
    compile 'io.github.koma-im:koma-library:0.7.6.4'
    compile 'com.xenomachina:kotlin-argparser:2.0.7'
    kapt("com.squareup.moshi:moshi-kotlin-codegen:1.8.0")
    implementation 'link.continuum:text2img:0.0.2'

    testImplementation 'org.jetbrains.kotlin:kotlin-test'
    testImplementation 'org.jetbrains.kotlin:kotlin-test-junit'
}

group = 'link.continuum'
version = '0.1'
description = 'picsay'
sourceCompatibility = '9'

mainClassName = "link.continuum.picsay.MainKt"

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

compileKotlin {
    kotlinOptions.jvmTarget = "1.8"
}

tasks.withType(AbstractArchiveTask) {
    preserveFileTimestamps = false
    reproducibleFileOrder = true
}
